
<!--
<div class="container">
   <h1>倒计时</h1>
   <label>请输入标题：</label>
   <input type="text" class="title" />
   <label>请输入截止时间：</label>
   <input type="text" class="time1" />
   <input type="button" class="button" value="确定">
    <div id="Ttitle"></div>
    <div id="timer"></div>
    
</div>

<script type="text/javascript">
const btn = document.querySelector('.button');
btn.addEventListener('click',Time);

function Time(){
let Title=document.querySelector('.title').value;
document.getElementById("Ttitle").innerHTML =Title;

var t1 =document.querySelector('.time1').value;



const fourthOfJuly = new Date(t1).getTime();

//const fourthOfJuly = new Date("March 11, 2019 23:00:00").getTime();


// countdown
let timer = setInterval(function() {

    // get today's date
    const today = new Date().getTime();

    // get the difference
    const diff = fourthOfJuly - today;

    // math
    let days = Math.floor(diff / (1000 * 60 * 60 * 24));
    let hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
    let minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
    let seconds = Math.floor((diff % (1000 * 60)) / 1000);
     
	 var str="距离看见德美还有"+days+"天" +hours+"小时" +minutes+"分" +seconds+"秒";
    // display
    document.getElementById("timer").innerHTML =str
     

;

}, 1000);

}

*/
</script>
-->

<!--
Author: XiaoWen
Create a file: 2017-01-03 19:05:26
Last modified: 2017-01-04 14:17:31
Start to work:
Finish the work:
Other information:

-->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>倒计时</title>
</head>
<body>
<p><a href="bird.html">bird</a></p>
<h1>倒计时</h1>
<label>请输入标题：</label>
 <input type="text" class="title" />
   <label>请输入截止时间：</label>
<input type="text"  class="Time" placeholder="yyyy-mmm-dd HH:MM:SS">

<input type="button" value="开始倒计时">
<div id="Title" style="text-align:center;font-size:36px;"></div>
<div id="Time" style="text-align:center;font-size:36px;"></div>
</body>
<script>
//js代码在下面

var input = document.getElementsByTagName('input');
var timer=null;

input[2].onclick=function(){
  //clearInterval(timer)

  timer=setInterval(test,1000);
}
function test(){
    var t1=input[1].value//='2017/01/05 13:31';
    if(new Date(t1)-new Date()<=0){
      clearInterval(timer);
      alert('计时完成');
    }else{
      var d=cd(t1, new Date(), 'd');
      var h=cd(t1, new Date(), 'h');
      var m=cd(t1, new Date(), 'm');
      var s=cd(t1, new Date(), 's');
     // show.value=d+'天'+h+'时'+m+'分'+s+'秒';
	 document.getElementById("Title").innerHTML=input[0].value;
	  document.getElementById("Time").innerHTML=d+'天'+h+'时'+m+'分'+s+'秒';
    }
  }
  
  function cd(t1, t2, tg) {
    //相差的毫秒数
    var ms = Date.parse(t1) - Date.parse(t2);
    var minutes = 1000 * 60;
    var hours = minutes * 60;
    var days = hours * 24;
    var years = days * 365;
    //求出天数
    var d = Math.floor(ms / days);
    //求出除开天数，剩余的毫秒数
    ms %= days;
    var h = Math.floor(ms / hours);
    ms %= hours;
    var m = Math.floor(ms / minutes);
    ms %= minutes;
    var s = Math.floor(ms / 1000);
    //返回所需值并退出函数
    switch(tg){
      case 'd' : return d;
      case 'h' : return h;
      case 'm' : return m;
      case 's' : return s;
    }
}

</script>
</html>